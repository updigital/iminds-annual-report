$(function(){var e=function(){var e=$(".ss-container > div.ss-row"),t,n,r=$("a"),i=$(window),s={},o=false,u=2e3,a="easeInOutExpo",f=false,l=f&&Modernizr.csstransforms3d,c=function(){d();v();h();p();if(l){e.css({"-webkit-perspective":600,"-webkit-perspective-origin":"50% 0%"})}t.find("a.ss-circle").addClass("ss-circle-deco");m()},h=function(){$.extend($.expr[":"],{inviewport:function(e){if($(e).offset().top<s.height){return true}return false}})},p=function(){t=e.filter(":inviewport");n=e.not(t)},d=function(){s.width=i.width();s.height=i.height()},v=function(){r.on("click.Scrolling",function(e){$("html, body").stop().animate({scrollTop:$($(this).attr("href")).offset().top},u,a);return false});$(window).on({"resize.Scrolling":function(n){d();p();e.find("a.ss-circle").removeClass("ss-circle-deco");t.each(function(){$(this).find("div.ss-left").css({left:"0%"}).end().find("div.ss-right").css({right:"0%"}).end().find("a.ss-circle").addClass("ss-circle-deco")})},"scroll.Scrolling":function(e){if(o)return false;o=true;setTimeout(function(){m();o=false},10)}})},m=function(){var e=i.scrollTop(),t=s.height/2+e;n.each(function(n){var r=$(this),i=r.find("div.ss-left"),o=r.find("div.ss-right"),u=r.offset().top;if(u>s.height+e){if(l){i.css({"-webkit-transform":"translate3d(-75%, 0, 0) rotateY(-90deg) translate3d(-75%, 0, 0)",opacity:0});o.css({"-webkit-transform":"translate3d(75%, 0, 0) rotateY(90deg) translate3d(75%, 0, 0)",opacity:0})}else{i.css({left:"-50%"});o.css({right:"-50%"})}}else{var a=r.height(),f=(u+a/2-t)/(s.height/2+a/2),c=Math.max(f*35,0);if(c<=0){if(!r.data("pointer")){r.data("pointer",true);r.find(".ss-circle").addClass("ss-circle-deco")}}else{if(r.data("pointer")){r.data("pointer",false);r.find(".ss-circle").removeClass("ss-circle-deco")}}if(l){var h=Math.max(f*75,0),p=Math.max(f*90,0),d=Math.min(Math.abs(f-1),1);i.css({"-webkit-transform":"translate3d(-"+h+"%, 0, 0) rotateY(-"+p+"deg) translate3d(-"+h+"%, 0, 0)",opacity:d});o.css({"-webkit-transform":"translate3d("+h+"%, 0, 0) rotateY("+p+"deg) translate3d("+h+"%, 0, 0)",opacity:d})}else{i.css({left:-c+"%"});o.css({right:-c+"%"})}}})};return{init:c}}();e.init()})